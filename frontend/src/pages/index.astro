---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Seating from "../components/seating.svelte";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
---

<!doctype html>
<html lang="en" class="dark">
    <head>
        <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />

        <style>
            @reference "../styles/global.css";
            .fade-in-side {
                @apply opacity-0 translate-x-7 transition-all;
                transition-duration: var(--delay, 1000ms);
            }

            .faded-in-side {
                @apply opacity-100 translate-x-0;
            }

            .fade-in-top {
                @apply opacity-0 translate-y-7 transition-all;
                transition-duration: var(--delay, 1000ms);
            }

            .faded-in-top {
                @apply opacity-100 translate-y-7;
            }
        </style>
    </head>
    <body>
        <Header title={SITE_TITLE} />
        <main>
            <section
                class="flex flex-col items-center justify-center gap-8"
                style="margin-top: calc(var(--navbar-height) - 50px)"
            >
                <img
                    src="/icds_logo.png"
                    alt="Logo"
                    height="340px"
                    width="340px"
                    class="w-[500px] object-contain my-10 mb-16"
                />

                <div class="fade-in-side text-center" style="--delay: 1500ms;">
                    <h2 class="font-medium text-6xl">
                        Welcome to <span
                            class="font-semibold gold-text"
                            >ICDS</span
                        >
                    </h2>
                </div>
            </section>

            <section class="py-10">
                <Seating client:load />
            </section>
        </main>
        <Footer />

        <script>
            const fadeInElements = document.querySelectorAll(".fade-in-side");
            console.log("ok", fadeInElements);

            const fadeInObserver = new IntersectionObserver(
                (entries) => {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add("faded-in-side");
                        } else {
                            entry.target.classList.remove("faded-in-side");
                        }
                    });
                },
                { threshold: 0.4 }
            );

            fadeInElements.forEach((elem) => fadeInObserver.observe(elem));
        </script>
    </body>
</html>
